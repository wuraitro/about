<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="description" content="Nova – a personal space for creativity, code, and reviews." />
  <title>Nova</title>
  <style>
    :root {
      --bg-top: #1e0f3a;

      --accent-1: #a855f7;
      --accent-2: #7c3aed;
      --accent-3: #c084fc;
      --accent-4: #8b5cf6;
      --accent-5: #06b6d4;

      --text-strong: #ffffff;
      --text: rgba(255,255,255,0.92);
      --muted: rgba(255,255,255,0.72);

      --panel: rgba(255,255,255,0.06);
      --panel-strong: rgba(19,10,38,0.72);
      --panel-border: rgba(168,85,247,0.28);

      --glow-weak: 0 0 20px rgba(168,85,247,0.25);
      --glow: 0 0 28px rgba(168,85,247,0.35), 0 0 60px rgba(124,58,237,0.28);
      --ring: 0 0 0 1px rgba(168,85,247,0.45);
      --success: #10b981;
    }

    html, body { height: 100%; }

    body {
      margin: 0;
      font-family: 'Segoe UI', system-ui, -apple-system, Roboto, Arial, sans-serif;
      color: var(--text);
      background-color: var(--bg-top);
      overflow-x: hidden;
      transition: background 0.8s ease;
    }

    .header-wrap { position: relative; padding-top: 36px; }
    .header-wrap::before { content: none; }

    header {
      position: relative;
      z-index: 1;
      text-align: center;
      padding: 54px 20px 12px;
      font-size: 3.2em;
      letter-spacing: 0.16em;
      line-height: 1.05;
      background: linear-gradient(90deg, #f5e9ff, #c084fc, #a855f7, #7c3aed, #c084fc);
      background-size: 220% auto;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      -webkit-text-stroke: 1px rgba(255,255,255,0.28);
      text-shadow: 0 2px 24px rgba(168,85,247,0.45), 0 0 2px rgba(0,0,0,0.3);
      animation: titleShift 8s linear infinite;
      margin: 0;
    }
    header::after {
      content: attr(data-title);
      position: absolute; inset: 0; display: block; color: transparent;
      -webkit-text-stroke: 2px rgba(0,0,0,0.6); text-shadow: none; pointer-events: none; mix-blend-mode: multiply;
    }
    @keyframes titleShift { 0% { background-position: 0% center; } 100% { background-position: 220% center; } }

    nav { text-align: center; margin: 22px 0 8px; }
    .nav { display: inline-flex; gap: 14px; flex-wrap: wrap; align-items: center; justify-content: center; }

    .nav-button {
      position: relative; appearance: none; border: 0; padding: 14px 26px; border-radius: 36px;
      color: var(--text-strong); font-size: 1rem; letter-spacing: 0.02em; cursor: pointer;
      background: linear-gradient(180deg, rgba(255,255,255,0.10), rgba(255,255,255,0.04));
      box-shadow: inset 0 1px 0 rgba(255,255,255,0.14), 0 8px 24px rgba(124,58,237,0.22), var(--ring);
      transition: transform 0.18s ease, box-shadow 0.3s ease, background 0.3s ease;
      overflow: hidden; isolation: isolate;
    }
    .nav-button::before {
      content: ""; position: absolute; inset: -2px; border-radius: 40px;
      background: conic-gradient(from 180deg, var(--accent-3), var(--accent-1), var(--accent-2), var(--accent-4), var(--accent-3));
      filter: blur(8px); opacity: 0.85; z-index: -1; animation: spin 5s linear infinite;
    }
    .nav-button::after {
      content: ""; position: absolute; inset: 2px; border-radius: 34px;
      background: linear-gradient(180deg, rgba(255,255,255,0.12), rgba(255,255,255,0.05)); pointer-events: none;
    }
    .nav-button .shimmer {
      position: absolute; inset: 0; border-radius: 34px;
      background: linear-gradient(120deg, transparent 0%, rgba(255,255,255,0.22) 34%, transparent 64%);
      transform: translateX(-120%); transition: transform 0.7s ease; mix-blend-mode: screen;
    }
    @keyframes spin { to { transform: rotate(360deg); } }
    .nav-button:hover {
      transform: translateY(-2px);
      box-shadow: inset 0 1px 0 rgba(255,255,255,0.18), 0 10px 28px rgba(168,85,247,0.38), 0 0 0 1px rgba(168,85,247,0.55);
    }
    .nav-button:hover .shimmer { transform: translateX(130%); }
    .nav-button:active {
      transform: translateY(0px) scale(0.99);
      box-shadow: inset 0 2px 12px rgba(0,0,0,0.35), 0 4px 16px rgba(124,58,237,0.28), 0 0 0 1px rgba(168,85,247,0.65);
    }

    .ripple {
      position: absolute; border-radius: 999px;
      background: radial-gradient(circle, rgba(192,132,252,0.38) 0%, rgba(192,132,252,0.2) 45%, transparent 60%);
      transform: translate(-50%, -50%); pointer-events: none; width: 12px; height: 12px;
      animation: ripple 600ms ease-out forwards; filter: blur(0.5px);
    }
    @keyframes ripple {
      0% { opacity: 0.85; transform: translate(-50%, -50%) scale(0.15); }
      80% { opacity: 0.25; }
      100% { opacity: 0; transform: translate(-50%, -50%) scale(12); }
    }

    main { padding: 0 16px 60px; }

    section {
      max-width: 860px; margin: 30px auto; padding: 20px 22px;
      background: linear-gradient(180deg, var(--panel-strong), var(--panel));
      border-radius: 12px; border: 1px solid var(--panel-border); box-shadow: var(--glow);
      opacity: 1; transform: none; transition: opacity 0.5s ease, transform 0.5s ease;
      pointer-events: auto; backdrop-filter: blur(8px);
    }

    h2 { margin: 4px 0 12px; font-weight: 700; letter-spacing: 0.02em; color: #efe7ff; text-shadow: 0 2px 14px rgba(168,85,247,0.28); }
    p, li, .about-paragraph { color: var(--muted); line-height: 1.7; }
    ul { padding-left: 20px; }

    .rgb {
      background: linear-gradient(90deg, #ff3c3c, #ffd64a, #29ff8e, #28c6ff, #8a2be2, #ff3c3c);
      background-size: 300% 100%; -webkit-background-clip: text; -webkit-text-fill-color: transparent;
      animation: rgbShift 6s linear infinite; font-weight: 800; letter-spacing: 0.01em;
    }
    @keyframes rgbShift { 0% { background-position: 0% 50%; } 100% { background-position: 300% 50%; } }

    .shiny-text {
      background: linear-gradient(90deg, rgba(255,255,255,0.95), #c084fc 30%, #a855f7 55%, #7c3aed 75%, rgba(255,255,255,0.95));
      background-size: 220% 100%; -webkit-background-clip: text; -webkit-text-fill-color: transparent;
      animation: shineSweep 3.2s ease-in-out infinite; font-weight: 800;
    }
    @keyframes shineSweep { 0%,100% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } }

    .glow { color: #efe7ff; text-shadow: 0 0 8px rgba(168,85,247,0.55), 0 0 18px rgba(124,58,237,0.45), 0 0 32px rgba(192,132,252,0.35); font-weight: 800; }
    .underline-glow { position: relative; display: inline-block; }
    .underline-glow::after {
      content: ""; position: absolute; left: 0; right: 0; bottom: -2px; height: 8px;
      background: radial-gradient(10px 6px at 20% 50%, rgba(192,132,252,0.7), transparent 70%),
                  radial-gradient(10px 6px at 50% 50%, rgba(168,85,247,0.7), transparent 70%),
                  radial-gradient(10px 6px at 80% 50%, rgba(124,58,237,0.7), transparent 70%);
      filter: blur(4px); opacity: 0.9; pointer-events: none;
    }

    .mini-button {
      appearance: none; border: 0; padding: 10px 16px; border-radius: 22px; color: var(--text-strong);
      font-size: 0.95rem; cursor: pointer;
      background: linear-gradient(180deg, rgba(255,255,255,0.10), rgba(255,255,255,0.04));
      box-shadow: inset 0 1px 0 rgba(255,255,255,0.14), 0 6px 18px rgba(124,58,237,0.22), var(--ring);
      transition: transform 0.16s ease, box-shadow 0.3s ease, background 0.3s ease;
    }
    .mini-button:hover {
      transform: translateY(-1px);
      box-shadow: inset 0 1px 0 rgba(255,255,255,0.18), 0 10px 24px rgba(168,85,247,0.38), 0 0 0 1px rgba(168,85,247,0.55);
    }
    .mini-button:active {
      transform: translateY(0);
      box-shadow: inset 0 2px 10px rgba(0,0,0,0.35), 0 4px 16px rgba(124,58,237,0.28), 0 0 0 1px rgba(168,85,247,0.65);
    }

    .game-list { list-style: none; padding-left: 0; margin: 0; }
    .game-item {
      background: rgba(255,255,255,0.04); border: 1px solid rgba(168,85,247,0.22);
      border-radius: 10px; padding: 14px 14px 10px; margin: 12px 0; box-shadow: 0 6px 22px rgba(124,58,237,0.15);
    }
    .game-actions { margin-top: 10px; }
    .game-more {
      overflow: hidden; max-height: 0; opacity: 0; transition: max-height 350ms ease, opacity 350ms ease;
      margin-top: 8px; border-top: 1px dashed rgba(168,85,247,0.3); padding-top: 8px;
    }
    .game-more.open { max-height: 320px; opacity: 1; }
    .stars {
      font-size: 1rem; letter-spacing: 2px; display: inline-block;
      background: linear-gradient(90deg, #ffd166, #f9a826);
      -webkit-background-clip: text; -webkit-text-fill-color: transparent;
      text-shadow: 0 0 10px rgba(249,168,38,0.25); font-weight: 800;
    }

    .music-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 16px; padding: 0; list-style: none; margin: 0; }
    .music-card { background: rgba(255,255,255,0.04); border: 1px solid rgba(168,85,247,0.22); border-radius: 12px; overflow: hidden; box-shadow: 0 6px 22px rgba(124,58,237,0.15); }
    .music-cover-wrap { width: 100%; height: 220px; background: rgba(0,0,0,0.2); display: grid; place-items: center; }
    .music-cover { width: 100%; height: 100%; object-fit: cover; }
    .music-meta { padding: 12px 12px 10px; }
    .music-title { margin: 0 0 6px; color: #efe7ff; }
    .music-credits { font-size: 0.85rem; color: rgba(255,255,255,0.7); margin: 0 0 10px; }
    .music-controls { display: flex; align-items: center; gap: 10px; padding: 0 12px 12px; }
    .play-btn {
      appearance: none; border: 0; width: 38px; height: 38px; border-radius: 50%;
      background: linear-gradient(180deg, rgba(255,255,255,0.12), rgba(255,255,255,0.05));
      box-shadow: inset 0 1px 0 rgba(255,255,255,0.14), 0 8px 24px rgba(124,58,237,0.22), var(--ring);
      color: var(--text-strong); cursor: pointer; font-weight: 800;
    }
    .time { font-variant-numeric: tabular-nums; font-size: 0.9rem; color: rgba(255,255,255,0.85); min-width: 112px; }
    .bar { position: relative; flex: 1; height: 8px; background: rgba(255,255,255,0.1); border-radius: 6px; cursor: pointer; overflow: hidden; }
    .bar-fill { position: absolute; left: 0; top: 0; bottom: 0; width: 0%; background: linear-gradient(90deg, #c084fc, #7c3aed); box-shadow: 0 0 14px rgba(168,85,247,0.4) inset; }

    .toast {
      position: fixed; right: 20px; bottom: 24px; background: var(--success); color: #06251a;
      padding: 10px 14px; border-radius: 10px; box-shadow: 0 12px 30px rgba(16,185,129,0.35);
      opacity: 0; transform: translateY(10px); pointer-events: none;
      transition: opacity 200ms ease, transform 200ms ease; font-weight: 700; z-index: 1100;
    }
    .toast::after {
      content: ""; position: absolute; right: 18px; bottom: -8px; width: 0; height: 0;
      border-left: 10px solid transparent; border-right: 10px solid transparent; border-top: 10px solid var(--success);
      filter: drop-shadow(0 -2px 2px rgba(0,0,0,0.12));
    }
    .toast.show { opacity: 1; transform: translateY(0); }

    /* Secret golden UI (Konami) */
    .secret-overlay {
      position: fixed; inset: 0; background: rgba(0,0,0,0.55);
      display: none; align-items: center; justify-content: center;
      z-index: 1200;
    }
    .secret-overlay.show { display: flex; }
    .secret-card {
      width: min(880px, 92vw);
      background: linear-gradient(180deg, #fff3b0, #f6d365 35%, #f3c623 70%, #eab308);
      color: #2b2100;
      border-radius: 16px;
      box-shadow: 0 18px 60px rgba(250,204,21,0.45), inset 0 1px 0 rgba(255,255,255,0.6);
      border: 1px solid rgba(255,255,255,0.45);
      padding: 22px;
      position: relative;
    }
    .secret-title {
      margin: 0 0 6px;
      font-weight: 900;
      letter-spacing: 0.04em;
      background: linear-gradient(90deg, #7c3aed, #a855f7, #f59e0b);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    .secret-close {
      position: absolute; right: 10px; top: 10px;
      appearance: none; border: 0; background: rgba(0,0,0,0.12);
      color: #2b2100; padding: 6px 10px; border-radius: 10px; cursor: pointer; font-weight: 800;
    }
    .secret-body {
      margin-top: 8px;
      color: #2b2100;
      line-height: 1.5;
    }
    .secret-pill {
      display: inline-block;
      background: rgba(0,0,0,0.12);
      padding: 4px 10px;
      border-radius: 999px;
      margin: 4px 6px 0 0;
      font-weight: 700;
    }

    canvas { position: fixed; top: 0; left: 0; z-index: -1; }
    :focus-visible { outline: 2px solid var(--accent-3); outline-offset: 2px; border-radius: 6px; }

    .reveal { opacity: 0; transform: translateY(18px); transition: opacity 600ms ease, transform 600ms ease; will-change: opacity, transform; }
    .reveal.visible { opacity: 1; transform: translateY(0); }
    section .reveal:nth-child(1) { transition-delay: 60ms; }
    section .reveal:nth-child(2) { transition-delay: 120ms; }
    section .reveal:nth-child(3) { transition-delay: 180ms; }
    section .reveal:nth-child(4) { transition-delay: 240ms; }
    section .reveal:nth-child(5) { transition-delay: 300ms; }

    a { color: #c7b7ff; text-decoration: none; }
    a:hover { text-decoration: underline; }
    .contact-list { list-style: none; padding-left: 0; margin: 10px 0 0; }
    .contact-list li { margin: 8px 0; }

    @media (max-width: 600px) {
      header { font-size: 2.2em; }
      .nav { gap: 10px; }
      .nav-button { width: 100%; max-width: 420px; }
      section { margin: 18px auto; padding: 18px; }
      .music-cover-wrap { height: 200px; }
    }

    @media (prefers-reduced-motion: reduce) {
      * { animation: none !important; transition: none !important; }
      .reveal, .reveal.visible { opacity: 1 !important; transform: none !important; }
      .rgb, .shiny-text { -webkit-text-fill-color: currentColor !important; background: none !important; }
      .game-more { max-height: none !important; opacity: 1 !important; }
    }
  </style>
</head>
<body>
  <canvas id="stars" aria-hidden="true"></canvas>

  <div class="header-wrap">
    <header id="site-title" data-title="Nova">Nova</header>
  </div>

  <nav aria-label="Primary">
    <div class="nav" role="tablist" aria-orientation="horizontal">
      <button class="nav-button" data-target="bio" role="tab" aria-selected="false" aria-controls="bio">
        About Me
        <span class="shimmer" aria-hidden="true"></span>
      </button>
      <button class="nav-button" data-target="games" role="tab" aria-selected="false" aria-controls="games">
        Game Reviews
        <span class="shimmer" aria-hidden="true"></span>
      </button>
      <button class="nav-button" data-target="music" role="tab" aria-selected="false" aria-controls="music">
        Music
        <span class="shimmer" aria-hidden="true"></span>
      </button>
      <button class="nav-button" data-target="contact" role="tab" aria-selected="false" aria-controls="contact">
        Contact Me
        <span class="shimmer" aria-hidden="true"></span>
      </button>
    </div>
  </nav>

  <main>
    <section id="bio" role="tabpanel" aria-labelledby="bio-tab">
      <h2 class="reveal">About Me</h2>
      <div class="about-paragraph reveal">
        I’m <span class="rgb underline-glow">16</span>. I like <span class="shiny-text">building things</span>, learning at my own pace, and keeping my circle small. I’m mostly introverted, but it depends on the room and the people in it. I prefer <span class="glow">steady effort</span> over loud declarations, and I’m wary of <span class="underline-glow">shortcuts</span> that promise everything and deliver very little.
      </div>
      <div class="about-paragraph reveal">
        I don’t chase trends; I chase <span class="shiny-text">progress</span>. <span class="underline-glow">Honest feedback</span> beats empty praise, and <span class="glow">consistency</span> beats hype. If you like a serious tone with the occasional dry joke, we’ll get along. Mostly introverted as my behavior indicates, but it depends on context and social disposition.
      </div>
      <div class="about-paragraph reveal">
        Please don’t add me if <span class="rgb underline-glow">favoritism</span> is your thing.
      </div>
    </section>

    <section id="games" role="tabpanel" aria-labelledby="games-tab">
      <h2 class="reveal">Game Reviews</h2>
      <p class="reveal">Notes on a few standouts I keep coming back to.</p>
      <ul class="game-list">
        <li class="game-item reveal" id="game-celeste">
          <div><strong class="glow">Celeste</strong> – Precision platforming with heart and discipline.</div>
          <div class="game-actions">
            <button class="mini-button read-more" data-target="#more-celeste" aria-expanded="false" aria-controls="more-celeste">Read More</button>
          </div>
          <div class="game-more" id="more-celeste">
            <p><span class="stars">★★★★★</span> (5/5)</p>
            <p>My favorite platformer right now. It actually made me want to 100% it — which is unusual for me — because every challenge feels earned, fair, and just addictive enough. Clean design, sharp controls, and a difficulty curve that teaches without preaching.</p>
          </div>
        </li>
        <li class="game-item reveal" id="game-sts">
          <div><strong class="shiny-text">Slay the Spire</strong> – Deckbuilder that turns “one more run” into a lifestyle.</div>
          <div class="game-actions">
            <button class="mini-button read-more" data-target="#more-sts" aria-expanded="false" aria-controls="more-sts">Read More</button>
          </div>
          <div class="game-more" id="more-sts">
            <p><span class="stars">★★★★★</span> (5/5)</p>
            <p>Also a favorite. It’s dangerously addictive and endlessly replayable — I can run it over and over without getting bored. The strategy depth sneaks up on you, and suddenly you’re planning routes in your sleep.</p>
          </div>
        </li>
      </ul>
    </section>

    <section id="music" role="tabpanel" aria-labelledby="music-tab">
      <h2 class="reveal">Music</h2>
      <p class="reveal">My favorite songs!</p>
      <ul class="music-grid">
        <li class="music-card reveal">
          <div class="music-cover-wrap">
            <img class="music-cover" alt="Cover art for Love Train" src="https://upload.wikimedia.org/wikipedia/en/7/7d/LoveTrainEpicRecords.png" />
          </div>
          <div class="music-meta">
            <h3 class="music-title">Love Train</h3>
            <p class="music-credits">Credits: The O'Jays • Artwork source:
              <a href="https://upload.wikimedia.org/wikipedia/en/7/7d/LoveTrainEpicRecords.png" target="_blank" rel="noopener">Wikimedia</a>
            </p>
          </div>
          <div class="music-controls" data-audio="Musica1.mp3">
            <button class="play-btn" aria-label="Play/Pause">▶</button>
            <div class="bar" role="slider" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0" tabindex="0">
              <div class="bar-fill"></div>
            </div>
            <div class="time"><span class="cur">0:00</span> / <span class="dur">0:00</span></div>
          </div>
        </li>

        <li class="music-card reveal">
          <div class="music-cover-wrap">
            <img class="music-cover" alt="Cover art for The Wonder of You" src="https://t2.genius.com/unsafe/847x0/https%3A%2F%2Fimages.genius.com%2Fd39b7523dc3185972428462d9e5ceaac.1000x1000x1.png" />
          </div>
          <div class="music-meta">
            <h3 class="music-title">The Wonder of You</h3>
            <p class="music-credits">Credits: Elvis Presley • Artwork source:
              <a href="https://t2.genius.com/unsafe/847x0/https%3A%2F%2Fimages.genius.com%2Fd39b7523dc3185972428462d9e5ceaac.1000x1000x1.png" target="_blank" rel="noopener">Genius CDN</a>
            </p>
          </div>
          <div class="music-controls" data-audio="Musica2.mp3">
            <button class="play-btn" aria-label="Play/Pause">▶</button>
            <div class="bar" role="slider" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0" tabindex="0">
              <div class="bar-fill"></div>
            </div>
            <div class="time"><span class="cur">0:00</span> / <span class="dur">0:00</span></div>
          </div>
        </li>

        <li class="music-card reveal">
          <div class="music-cover-wrap">
            <img class="music-cover" alt="Cover art for Soft & Wet" src="https://upload.wikimedia.org/wikipedia/en/b/b6/Prince_Soft%26Wet.jpg" />
          </div>
          <div class="music-meta">
            <h3 class="music-title">Soft &amp; Wet</h3>
            <p class="music-credits">Credits: Prince • Artwork source:
              <a href="https://upload.wikimedia.org/wikipedia/en/b/b6/Prince_Soft%26Wet.jpg" target="_blank" rel="noopener">Wikimedia</a>
            </p>
          </div>
          <div class="music-controls" data-audio="Musica3.mp3">
            <button class="play-btn" aria-label="Play/Pause">▶</button>
            <div class="bar" role="slider" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0" tabindex="0">
              <div class="bar-fill"></div>
            </div>
            <div class="time"><span class="cur">0:00</span> / <span class="dur">0:00</span></div>
          </div>
        </li>
      </ul>
      <p class="reveal" style="margin-top:12px;font-size:0.9rem;color:rgba(255,255,255,0.7);">
      </p>
    </section>

    <section id="contact" role="tabpanel" aria-labelledby="contact-tab">
      <h2 class="reveal">Contact</h2>
      <p class="reveal">Reach out if you’ve got something to share.</p>
      <ul class="contact-list">
        <li class="reveal">Email: <a href="mailto:adrbalrus@proton.me">adrbalrus@proton.me</a></li>
        <li class="reveal">Discord: <button id="discord-btn" class="mini-button" type="button" data-username="wuraitro">Copy Username</button></li>
        <li class="reveal">Roblox: <a href="https://www.roblox.com/users/2517791964/profile" target="_blank" rel="noopener">roblox.com/users/2517791964/profile</a></li>
      </ul>
    </section>
  </main>

  <!-- Secret Golden UI -->
  <div id="secret" class="secret-overlay" aria-hidden="true">
    <div class="secret-card" role="dialog" aria-modal="true" aria-labelledby="secret-title">
      <button class="secret-close" id="secret-close" type="button">Close</button>
      <h3 id="secret-title" class="secret-title">Golden Room: Friends</h3>
      <div class="secret-body">
        <p>Hello! This is an easter egg, nice you've found it! Some people I love:</p>
        <p>
          <span class="secret-pill">Anhilico</span>
          <span class="secret-pill">Cyber</span>
          <span class="secret-pill">Zeta</span>
          <span class="secret-pill">Axo</span>
        </p>
        <p style="margin-top:10px;">If you found this, you have good taste in shortcuts — the useful kind.</p>
      </div>
    </div>
  </div>

  <div id="discord-toast" class="toast" role="status" aria-live="polite">Successful!</div>

  <script>
    /* Buttons scroll to sections (no hiding) */
    const buttons = Array.from(document.querySelectorAll('.nav-button'));
    function scrollToSection(id, pushHash = true) {
      const el = document.getElementById(id);
      if (!el) return;
      el.scrollIntoView({ behavior: 'smooth', block: 'start' });
      if (pushHash) location.hash = '#' + id;
      buttons.forEach(btn => btn.setAttribute('aria-selected', String(btn.getAttribute('data-target') === id)));
    }
    function initFromHash() {
      const id = location.hash.replace('#', '') || 'bio';
      scrollToSection(id, false);
    }
    buttons.forEach(btn => {
      btn.addEventListener('click', (e) => {
        const rect = btn.getBoundingClientRect();
        const x = e.clientX - rect.left;
        const y = e.clientY - rect.top;
        const circle = document.createElement('span');
        circle.className = 'ripple';
        circle.style.left = x + 'px';
        circle.style.top = y + 'px';
        btn.appendChild(circle);
        setTimeout(() => circle.remove(), 650);
        scrollToSection(btn.getAttribute('data-target'));
      });
    });
    window.addEventListener('hashchange', initFromHash);
    initFromHash();

    /* Starfield with purple tint */
    const canvas = document.getElementById("stars");
    const ctx = canvas.getContext("2d", { alpha: true });
    let w, h, stars = [];
    const STAR_COUNT = Math.min(260, (window.innerWidth < 600 ? 140 : 240));
    let mouse = { x: -1000, y: -1000 };

    function resize() {
      const dpr = Math.max(1, window.devicePixelRatio || 1);
      w = canvas.width = Math.floor(window.innerWidth * dpr);
      h = canvas.height = Math.floor(window.innerHeight * dpr);
      canvas.style.width = window.innerWidth + 'px';
      canvas.style.height = window.innerHeight + 'px';
      ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
    }
    window.addEventListener("resize", resize, { passive: true });
    resize();

    function randomStar() {
      return {
        x: Math.random() * window.innerWidth,
        y: Math.random() * window.innerHeight,
        r: Math.random() * 1.6 + 0.5,
        alpha: Math.random() * 0.9 + 0.1,
        speedY: Math.random() * 0.45 + 0.18,
        vx: 0,
        vy: 0,
        tint: Math.random() < 0.7 ? '224,208,255' : (Math.random() < 0.5 ? '192,132,252' : '139,92,246')
      };
    }
    stars = Array.from({ length: STAR_COUNT }, randomStar);

    canvas.addEventListener("mousemove", e => { mouse.x = e.clientX; mouse.y = e.clientY; }, { passive: true });

    function drawStars() {
      ctx.clearRect(0, 0, window.innerWidth, window.innerHeight);
      for (let i = 0; i < stars.length; i++) {
        const star = stars[i];
        const dx = star.x - mouse.x;
        const dy = star.y - mouse.y;
        const dist = Math.hypot(dx, dy);
        if (dist < 110) {
          const angle = Math.atan2(dy, dx);
          const force = (110 - dist) / 110;
          star.vx += Math.cos(angle) * force * 0.45;
          star.vy += Math.sin(angle) * 0.45 * force;
        }
        star.alpha += (Math.random() - 0.5) * 0.05;
        star.alpha = Math.max(0.12, Math.min(1, star.alpha));
        star.y += star.speedY + star.vy * 0.6;
        star.x += star.vx * 0.6;
        star.vx *= 0.94;
        star.vy *= 0.94;
        if (star.y > window.innerHeight) { star.y = 0; star.x = Math.random() * window.innerWidth; }
        if (star.x < 0 || star.x > window.innerWidth) { star.x = Math.random() * window.innerWidth; star.y = 0; }
        ctx.beginPath();
        ctx.arc(star.x, star.y, star.r, 0, Math.PI * 2);
        ctx.fillStyle = `rgba(${star.tint},${star.alpha})`;
        ctx.shadowColor = 'rgba(168,85,247,0.45)';
        ctx.shadowBlur = 6;
        ctx.fill();
      }
      requestAnimationFrame(drawStars);
    }
    const media = window.matchMedia('(prefers-reduced-motion: reduce)');
    if (!media.matches) { drawStars(); }

    /* Scroll reveal */
    const revealables = Array.from(document.querySelectorAll('.reveal'));
    const observer = new IntersectionObserver((entries, obs) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
          obs.unobserve(entry.target);
        }
      });
    }, { root: null, threshold: 0.15, rootMargin: '0px 0px -10% 0px' });
    revealables.forEach(el => observer.observe(el));

    /* Read More toggles */
    const toggles = Array.from(document.querySelectorAll('.read-more'));
    toggles.forEach(btn => {
      btn.addEventListener('click', () => {
        const sel = btn.getAttribute('data-target');
        const panel = document.querySelector(sel);
        if (!panel) return;
        const isOpen = panel.classList.toggle('open');
        btn.setAttribute('aria-expanded', String(isOpen));
        btn.textContent = isOpen ? 'Read Less' : 'Read More';
      });
    });

    /* Music player logic */
    const controls = Array.from(document.querySelectorAll('.music-controls'));
    const audios = new Map();
    let currentAudio = null;
    let currentUI = null;

    function formatTime(s) {
      if (!Number.isFinite(s)) return '0:00';
      const m = Math.floor(s / 60);
      const sec = Math.floor(s % 60).toString().padStart(2, '0');
      return `${m}:${sec}`;
    }

    function setPlayIcon(btn, playing) {
      btn.textContent = playing ? '⏸' : '▶';
      btn.setAttribute('aria-label', playing ? 'Pause' : 'Play');
    }

    function wireControl(ctrl) {
      const src = ctrl.getAttribute('data-audio');
      const btn = ctrl.querySelector('.play-btn');
      const bar = ctrl.querySelector('.bar');
      const fill = ctrl.querySelector('.bar-fill');
      const cur = ctrl.querySelector('.cur');
      const dur = ctrl.querySelector('.dur');

      let audio = audios.get(src);
      if (!audio) {
        audio = new Audio(src);
        audio.preload = 'metadata';
        audios.set(src, audio);
        audio.addEventListener('loadedmetadata', () => {
          dur.textContent = formatTime(audio.duration);
        });
        audio.addEventListener('timeupdate', () => {
          cur.textContent = formatTime(audio.currentTime);
          const pct = (audio.currentTime / (audio.duration || 1)) * 100;
          fill.style.width = pct + '%';
          bar.setAttribute('aria-valuenow', Math.round(pct));
        });
        audio.addEventListener('ended', () => {
          setPlayIcon(btn, false);
          fill.style.width = '0%';
          cur.textContent = '0:00';
          currentAudio = null;
          currentUI = null;
        });
      }

      btn.addEventListener('click', () => {
        if (currentAudio && currentAudio !== audio) {
          currentAudio.pause();
          if (currentUI) setPlayIcon(currentUI.querySelector('.play-btn'), false);
        }
        if (audio.paused) {
          audio.play();
          currentAudio = audio;
          currentUI = ctrl;
          setPlayIcon(btn, true);
        } else {
          audio.pause();
          setPlayIcon(btn, false);
          currentAudio = null;
          currentUI = null;
        }
      });

      function seek(clientX) {
        const rect = bar.getBoundingClientRect();
        const ratio = Math.min(1, Math.max(0, (clientX - rect.left) / rect.width));
        audio.currentTime = ratio * (audio.duration || 0);
      }
      bar.addEventListener('click', (e) => { if (Number.isFinite(audio.duration)) seek(e.clientX); });

      bar.addEventListener('keydown', (e) => {
        if (!Number.isFinite(audio.duration)) return;
        const step = audio.duration * 0.02;
        if (e.key === 'ArrowLeft') { audio.currentTime = Math.max(0, audio.currentTime - step); e.preventDefault(); }
        if (e.key === 'ArrowRight') { audio.currentTime = Math.min(audio.duration, audio.currentTime + step); e.preventDefault(); }
        if (e.key === 'Enter' || e.key === ' ') { btn.click(); e.preventDefault(); }
      });
    }
    controls.forEach(wireControl);

    /* Discord copy + toast */
    const discordBtn = document.getElementById('discord-btn');
    const toast = document.getElementById('discord-toast');
    function showToast() {
      toast.classList.add('show');
      clearTimeout(showToast._t);
      showToast._t = setTimeout(() => toast.classList.remove('show'), 1400);
    }
    async function copyDiscordUsername(username) {
      try { await navigator.clipboard.writeText(username); showToast(); }
      catch {
        const ta = document.createElement('textarea'); ta.value = username; document.body.appendChild(ta);
        ta.select(); document.execCommand('copy'); ta.remove(); showToast();
      }
    }
    if (discordBtn) {
      discordBtn.addEventListener('click', (e) => {
        const rect = discordBtn.getBoundingClientRect();
        const x = e.clientX - rect.left;
        const y = e.clientY - rect.top;
        const circle = document.createElement('span');
        circle.className = 'ripple';
        circle.style.left = x + 'px';
        circle.style.top = y + 'px';
        discordBtn.appendChild(circle);
        setTimeout(() => circle.remove(), 650);
        const username = discordBtn.getAttribute('data-username');
        copyDiscordUsername(username);
      });
    }

    /* Konami code: W W S S A D A D B A */
    const KONAMI = ['w','w','s','s','a','d','a','d','b','a'];
    let buffer = [];
    let lastTs = 0;
    const maxGapMs = 900; // "kinda fast": each key within 0.9s

    function openSecret() {
      const overlay = document.getElementById('secret');
      overlay.classList.add('show');
      overlay.setAttribute('aria-hidden', 'false');
    }
    function closeSecret() {
      const overlay = document.getElementById('secret');
      overlay.classList.remove('show');
      overlay.setAttribute('aria-hidden', 'true');
    }
    document.getElementById('secret-close').addEventListener('click', closeSecret);
    document.getElementById('secret').addEventListener('click', (e) => {
      if (e.target.id === 'secret') closeSecret();
    });

    window.addEventListener('keydown', (e) => {
      const now = Date.now();
      const key = (e.key || '').toLowerCase();
      if (now - lastTs > maxGapMs) buffer = []; // too slow; reset
      lastTs = now;
      buffer.push(key);
      if (buffer.length > KONAMI.length) buffer.shift();
      if (KONAMI.every((k, i) => buffer[i] === k)) {
        buffer = [];
        openSecret();
      }
    });
  </script>
</body>
</html>
